@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@import "./iconoir.css";

@theme {
    --font-sans: 'Inter', 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
        'Segoe UI Symbol', 'Noto Color Emoji';
    --color-accent: #000000;
    --color-accent-fg: #ffffff;
    
    --animate-slide-up: slide-up 0.4s cubic-bezier(0.16, 1, 0.3, 1);

    @keyframes slide-up {
        0% { opacity: 0; transform: translateY(20px); }
        100% { opacity: 1; transform: translateY(0); }
    }
}

:root {
    --window-opacity: 0.85;
}

/* Base Styles */
body {
    @apply font-sans text-neutral-900 dark:text-neutral-100 h-screen w-screen overflow-hidden transition-colors duration-500;
    background: transparent;
}

body.web-mode {
    @apply bg-neutral-100 dark:bg-neutral-950;
}

/* Modern Scrollbar Styles */
* {
    scrollbar-width: thin;
    scrollbar-color: transparent transparent;
    transition: scrollbar-color 0.3s ease;
}

*:hover,
*:focus-within,
*:active {
    scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
}

.dark *:hover,
.dark *:focus-within,
.dark *:active {
    scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
}

/* Webkit Scrollbar */
*::-webkit-scrollbar {
    width: 8px;
    height: 8px;
    transition: width 0.2s ease;
}

*::-webkit-scrollbar:hover {
    width: 12px;
}

*::-webkit-scrollbar-track {
    background: transparent;
    margin: 4px;
}

*::-webkit-scrollbar-thumb {
    background: transparent;
    border-radius: 6px;
    border: 2px solid transparent;
    background-clip: padding-box;
    transition: background 0.3s ease;
}

*:hover::-webkit-scrollbar-thumb,
*:focus-within::-webkit-scrollbar-thumb,
*:active::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    background-clip: padding-box;
}

.dark *:hover::-webkit-scrollbar-thumb,
.dark *:focus-within::-webkit-scrollbar-thumb,
.dark *:active::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    background-clip: padding-box;
}

*::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.35);
    background-clip: padding-box;
}

.dark *::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.35);
    background-clip: padding-box;
}

@layer components {
    
    /* Glass Panel */
    .glass-panel {
        @apply h-full w-full flex flex-col relative overflow-hidden shadow-2xl transition-all duration-500;
        @apply border border-white/40 dark:border-white/10;
        background: rgb(255 255 255 / var(--window-opacity));
    }
    
    .dark .glass-panel {
        background: rgb(18 18 18 / var(--window-opacity));
    }

    .window-title { 
        @apply text-sm font-medium text-neutral-900 tracking-wide opacity-80;
    }

    .dark .window-title {
        color: rgb(229 229 229);
    }

    /* Apply backdrop blur only when opacity is less than 1 */
    body:not(.web-mode) .glass-panel {
        backdrop-filter: blur(48px);
    }
    
    body.web-mode .glass-panel {
        backdrop-filter: none;
    }
    
    /* Additional native mode adjustments */
    body:not(.web-mode) .glass-panel {
        @apply border-0 shadow-none rounded-2xl;
    }
    
    body:not(.web-mode) .top-header {
        @apply rounded-t-2xl;
    }

    .glass-header {
        @apply h-12 px-6 flex items-center justify-between shrink-0 z-20 backdrop-blur-md;
        @apply border-b;
        background-color: rgb(250 250 250 / 0.8);
        border-color: rgb(229 229 229);
        -webkit-app-region: drag;
    }
    
    .dark .glass-header {
        background-color: rgb(255 255 255 / 0.05);
        border-color: rgb(255 255 255 / 0.05);
    }
    
    .glass-header button,
    .glass-header a,
    .glass-header input,
    .glass-header select {
        -webkit-app-region: no-drag;
    }

    .top-header {
        @apply h-12 px-6 flex items-center justify-between shrink-0 z-20;
        -webkit-app-region: drag;
    }
    
    .top-header button,
    .top-header a,
    .top-header input,
    .top-header select {
        -webkit-app-region: no-drag;
    }

    .chat-messages {
        @apply flex-1 overflow-y-auto p-6 md:p-10 space-y-8 pb-36;
    }

    /* Chat Rows */
    .chat-row {
        @apply flex gap-4 max-w-3xl w-full animate-slide-up;
    }
    
    .chat-row.user { 
        @apply ml-auto justify-end; 
    }

    /* Chat Bubbles */
    .chat-bubble {
        @apply px-5 py-3 text-[15px] leading-relaxed shadow-sm relative max-w-full break-words;
    }
    
    .chat-bubble.primary {
        @apply rounded-[20px] rounded-tr-[4px];
        background-color: rgb(23 23 23);
        color: rgb(255 255 255);
    }
    
    .dark .chat-bubble.primary {
        background-color: rgb(255 255 255);
        color: rgb(0 0 0);
    }
    
    .chat-bubble.secondary {
        @apply rounded-[20px] rounded-tl-[4px] border backdrop-blur-md;
        background-color: rgb(245 245 245);
        border-color: rgb(229 229 229);
        color: rgb(23 23 23);
    }
    
    .dark .chat-bubble.secondary {
        background-color: rgb(255 255 255 / 0.1);
        border-color: rgb(255 255 255 / 0.05);
        color: rgb(229 229 229);
    }

    /* Avatar */
    .purr-ai-logo {
        @apply w-8 h-8;
        @apply flex items-center justify-center shrink-0;
    }

    /* Buttons */
    .circle-btn {
        @apply w-10 h-10 rounded-full flex-shrink-0 flex items-center justify-center cursor-pointer;
        @apply transition-transform active:scale-95;
    }
    
    .circle-btn.ghost {
        color: rgb(82 82 82);
    }
    
    .circle-btn.ghost:hover {
        color: rgb(23 23 23);
        background-color: rgb(229 229 229);
    }
    
    .dark .circle-btn.ghost {
        color: rgb(115 115 115);
    }
    
    .dark .circle-btn.ghost:hover {
        color: rgb(255 255 255);
        background-color: rgb(255 255 255 / 0.1);
    }

    .circle-btn.primary {
        @apply shadow-md hover:scale-105;
        background-color: rgb(23 23 23);
        color: rgb(255 255 255);
    }
    
    .dark .circle-btn.primary {
        background-color: rgb(255 255 255);
        color: rgb(0 0 0);
    }

    .btn-icon {
        @apply w-9 h-9 rounded-full flex items-center justify-center cursor-pointer transition-all;
        color: rgb(82 82 82);
    }
    
    .btn-icon:hover {
        color: rgb(23 23 23);
        background-color: rgb(229 229 229);
    }
    
    .dark .btn-icon {
        color: rgb(115 115 115);
    }
    
    .dark .btn-icon:hover {
        color: rgb(255 255 255);
        background-color: rgb(255 255 255 / 0.1);
    }

    /* File Cards */
    .file-card {
        @apply flex items-center gap-3 p-2 pr-4 rounded-xl cursor-pointer transition-all border;
        background-color: rgb(245 245 245);
        border-color: rgb(229 229 229);
    }
    
    .file-card:hover {
        background-color: rgb(229 229 229);
    }
    
    .dark .file-card {
        background-color: rgb(255 255 255 / 0.05);
        border-color: rgb(255 255 255 / 0.1);
    }
    
    .dark .file-card:hover {
        background-color: rgb(255 255 255 / 0.15);
    }
    
    .file-icon {
        @apply w-10 h-10 rounded-lg flex items-center justify-center text-lg;
        background-color: rgb(229 229 229);
        color: rgb(64 64 64);
    }
    
    .dark .file-icon {
        background-color: rgb(255 255 255 / 0.1);
        color: rgb(212 212 212);
    }

    /* Image Thumbnails */
    .attachment-grid {
        @apply grid grid-cols-3 gap-1.5 mt-2 w-full max-w-[320px];
    }

    .attachment-thumbnail {
        @apply aspect-square rounded-2xl overflow-hidden relative cursor-pointer border;
        border-color: rgb(229 229 229);
    }
    
    .dark .attachment-thumbnail {
        border-color: rgb(255 255 255 / 0.2);
    }

    .attachment-thumbnail img {
        @apply w-full h-full object-cover transition-transform duration-500;
    }
    
    .attachment-thumbnail:hover img {
        @apply scale-110;
    }

    /* Input Dock */
    .input-dock {
        @apply absolute bottom-6 left-1/2 -translate-x-1/2 w-[calc(100%-3rem)] max-w-3xl z-30;
        @apply backdrop-blur-2xl rounded-[32px] shadow-lg flex items-end gap-2 p-2 transition-shadow focus-within:shadow-xl;
        @apply border ring-1;
        background-color: rgb(255 255 255);
        border-color: rgb(229 229 229);
        --tw-ring-color: rgb(245 245 245);
    }
    
    .dark .input-dock {
        background-color: rgb(30 30 30 / 0.8);
        border-color: rgb(255 255 255 / 0.1);
        --tw-ring-color: rgb(255 255 255 / 0.05);
    }

    .input-field {
        @apply w-full bg-transparent text-[15px] focus:outline-none resize-none max-h-32 py-2.5 px-2;
        color: rgb(23 23 23);
    }
    
    .input-field::placeholder {
        color: rgb(115 115 115);
    }
    
    .dark .input-field {
        color: rgb(255 255 255);
    }
    
    .dark .input-field::placeholder {
        color: rgb(115 115 115);
    }

    /* Dropdown */
    .dropdown {
        @apply absolute right-0 top-full mt-2 w-64 rounded-2xl overflow-hidden backdrop-blur-2xl shadow-xl z-50 border;
        background-color: rgb(255 255 255);
        border-color: rgb(229 229 229);
    }
    
    .dark .dropdown {
        background-color: rgb(30 30 30 / 0.8);
        border-color: rgb(255 255 255 / 0.1);
    }

    .dropdown-item {
        @apply w-full px-4 py-3 text-left text-sm transition-colors;
        color: rgb(64 64 64);
    }
    
    .dropdown-item:hover {
        background-color: rgb(245 245 245);
    }
    
    .dark .dropdown-item {
        color: rgb(212 212 212);
    }
    
    .dark .dropdown-item:hover {
        background-color: rgb(255 255 255 / 0.1);
    }

    /* Message Timestamp */
    .message-timestamp {
        @apply text-[10px] opacity-40 mt-1 font-medium;
    }

    /* Welcome Screen */
    .welcome-container {
        @apply flex flex-col items-center justify-center h-full text-center px-4;
    }

    .welcome-logo {
        @apply w-24 h-24 mb-4 opacity-75;
    }

    .welcome-title {
        @apply text-2xl font-semibold mb-2;
        color: rgb(23 23 23);
    }
    
    .dark .welcome-title {
        color: rgb(255 255 255);
    }

    .welcome-message {
        @apply max-w-md;
        color: rgb(82 82 82);
    }
    
    .dark .welcome-message {
        color: rgb(163 163 163);
    }

    /* Window Controls */
    .window-controls {
        @apply flex items-center gap-2;
        -webkit-app-region: no-drag;
    }
    
    .window-controls-mac {
        @apply gap-2;
    }
    
    .window-controls-default {
        @apply gap-0;
    }
    
    /* macOS Style Buttons */
    .window-btn-close-mac,
    .window-btn-minimize-mac,
    .window-btn-maximize-mac {
        @apply w-3 h-3 rounded-full flex items-center justify-center;
        @apply transition-all cursor-pointer;
    }
    
    .window-btn-close-mac {
        @apply bg-[#FF5F57];
    }
    
    .window-btn-minimize-mac {
        @apply bg-[#FEBC2E];
    }
    
    .window-btn-maximize-mac {
        @apply bg-[#28C840];
    }
    
    .window-btn-close-mac:hover,
    .window-btn-minimize-mac:hover,
    .window-btn-maximize-mac:hover {
        @apply opacity-80;
    }
    
    .window-btn-dot {
        @apply hidden;
    }
    
    .window-btn-close-mac:hover .window-btn-dot,
    .window-btn-minimize-mac:hover .window-btn-dot,
    .window-btn-maximize-mac:hover .window-btn-dot {
        @apply block w-1.5 h-1.5 bg-black/50 rounded-full;
    }
    
    /* Windows/Linux Style Buttons */
    .window-controls-default {
        @apply flex items-center gap-1;
    }
    
    .window-btn {
        @apply w-9 h-9 rounded-full flex items-center justify-center cursor-pointer transition-all;
        color: rgb(82 82 82);
    }
    
    .window-btn:hover {
        color: rgb(23 23 23);
        background-color: rgb(229 229 229);
    }
    
    .dark .window-btn {
        color: rgb(115 115 115);
    }
    
    .dark .window-btn:hover {
        color: rgb(255 255 255);
        background-color: rgb(255 255 255 / 0.1);
    }
    
    .window-btn.close:hover {
        background-color: rgb(239 68 68);
        color: rgb(255 255 255);
    }

    /* Settings Components */
    .settings-title {
        @apply text-3xl font-semibold;
        color: rgb(23 23 23);
    }
    
    .dark .settings-title {
        color: rgb(255 255 255);
    }
    
    .settings-description {
        @apply text-sm;
        color: rgb(82 82 82);
    }
    
    .dark .settings-description {
        color: rgb(163 163 163);
    }
    
    .settings-value {
        @apply text-sm font-medium w-12 text-right;
        color: rgb(23 23 23);
    }
    
    .dark .settings-value {
        color: rgb(255 255 255);
    }
    
    .settings-card {
        @apply p-6 rounded-2xl backdrop-blur-md border;
        background-color: rgb(250 250 250);
        border-color: rgb(229 229 229);
    }
    
    .dark .settings-card {
        background-color: rgb(255 255 255 / 0.05);
        border-color: rgb(255 255 255 / 0.1);
    }
    
    /* Settings Tabs */
    .settings-tabs {
        @apply flex gap-2 p-1 backdrop-blur-md rounded-2xl border;
        background-color: rgb(255 255 255 / 0.4);
        border-color: rgb(255 255 255 / 0.5);
    }
    
    .dark .settings-tabs {
        background-color: rgb(255 255 255 / 0.05);
        border-color: rgb(255 255 255 / 0.1);
    }
    
    .settings-tab {
        @apply flex-1 px-4 py-2.5 rounded-xl text-sm font-medium transition-all;
    }
    
    .settings-tab-active {
        @apply shadow-sm;
        background-color: rgb(23 23 23);
        color: rgb(255 255 255);
    }
    
    .dark .settings-tab-active {
        background-color: rgb(255 255 255);
        color: rgb(0 0 0);
    }
    
    .settings-tab-inactive {
        color: rgb(82 82 82);
    }
    
    .settings-tab-inactive:hover {
        color: rgb(23 23 23);
    }
    
    .dark .settings-tab-inactive {
        color: rgb(163 163 163);
    }
    
    .dark .settings-tab-inactive:hover {
        color: rgb(255 255 255);
    }

    .settings-label {
        @apply block text-sm font-medium mb-2;
        color: rgb(23 23 23);
    }
    
    .dark .settings-label {
        color: rgb(255 255 255);
    }

    .settings-input {
        @apply w-full px-4 py-3 rounded-xl text-[15px] backdrop-blur-md transition-all border;
        @apply focus:outline-none focus:ring-2;
        background-color: rgb(255 255 255);
        border-color: rgb(229 229 229);
        color: rgb(23 23 23);
        --tw-ring-color: rgb(23 23 23 / 0.2);
    }
    
    .settings-input::placeholder {
        color: rgb(115 115 115);
    }
    
    .dark .settings-input {
        background-color: rgb(255 255 255 / 0.1);
        border-color: rgb(255 255 255 / 0.1);
        color: rgb(255 255 255);
        --tw-ring-color: rgb(255 255 255 / 0.2);
    }

    .settings-input option {
        background-color: rgb(255 255 255);
        color: rgb(23 23 23);
    }
    
    .dark .settings-input option {
        background-color: rgb(23 23 23);
        color: rgb(255 255 255);
    }

    .settings-radio-card {
        @apply flex-1 cursor-pointer;
    }

    .settings-radio-card input:checked + .settings-radio-label {
        @apply shadow-sm;
        background-color: rgb(23 23 23);
        color: rgb(255 255 255);
    }
    
    .dark .settings-radio-card input:checked + .settings-radio-label {
        background-color: rgb(255 255 255);
        color: rgb(0 0 0);
    }

    .settings-radio-label {
        @apply block px-4 py-3 rounded-xl text-center text-sm font-medium transition-all border;
        background-color: rgb(255 255 255);
        border-color: rgb(229 229 229);
        color: rgb(82 82 82);
    }
    
    .settings-radio-label:hover {
        background-color: rgb(245 245 245);
        border-color: rgb(212 212 212);
        color: rgb(23 23 23);
    }
    
    .dark .settings-radio-label {
        background-color: rgb(255 255 255 / 0.05);
        border-color: rgb(255 255 255 / 0.1);
        color: rgb(163 163 163);
    }
    
    .dark .settings-radio-label:hover {
        background-color: rgb(255 255 255 / 0.1);
        border-color: rgb(255 255 255 / 0.15);
        color: rgb(229 229 229);
    }
    
    /* Prevent hover effect on checked radio buttons */
    .settings-radio-card input:checked + .settings-radio-label:hover {
        background-color: rgb(23 23 23);
        border-color: rgb(23 23 23);
        color: rgb(255 255 255);
    }
    
    .dark .settings-radio-card input:checked + .settings-radio-label:hover {
        background-color: rgb(255 255 255);
        border-color: rgb(255 255 255);
        color: rgb(0 0 0);
    }

    .settings-toggle {
        @apply relative w-12 h-6 rounded-full transition-colors;
        background-color: rgb(212 212 212);
    }
    
    .dark .settings-toggle {
        background-color: rgb(64 64 64);
    }

    .settings-toggle.active {
        background-color: rgb(23 23 23);
    }
    
    .dark .settings-toggle.active {
        background-color: rgb(255 255 255);
    }

    .settings-toggle-thumb {
        @apply absolute top-0.5 left-0.5 w-5 h-5 rounded-full transition-transform;
        background-color: rgb(255 255 255);
    }
    
    .dark .settings-toggle-thumb {
        background-color: rgb(23 23 23);
    }

    .settings-toggle.active .settings-toggle-thumb {
        @apply translate-x-6;
    }

    .settings-slider {
        @apply flex-1 h-2 rounded-full appearance-none cursor-pointer backdrop-blur-md border;
        background-color: rgb(229 229 229);
        border-color: rgb(212 212 212);
    }
    
    .dark .settings-slider {
        background-color: rgb(255 255 255 / 0.1);
        border-color: rgb(255 255 255 / 0.1);
    }

    .settings-slider::-webkit-slider-thumb {
        @apply appearance-none w-5 h-5 rounded-full shadow-md cursor-pointer transition-transform hover:scale-110;
        background-color: rgb(23 23 23);
    }
    
    .dark .settings-slider::-webkit-slider-thumb {
        background-color: rgb(255 255 255);
    }

    .settings-slider::-moz-range-thumb {
        @apply w-5 h-5 rounded-full border-0 shadow-md cursor-pointer transition-transform hover:scale-110;
        background-color: rgb(23 23 23);
    }
    
    .dark .settings-slider::-moz-range-thumb {
        background-color: rgb(255 255 255);
    }

    /* Help Text */
    .help-text {
        @apply text-xs mt-2;
        color: rgb(115 115 115);
    }
}
